<html lang="en">
<head>
<script type="text/javascript" src="http://ajax.googleapis.com/ajax/libs/jquery/1.3.2/jquery.min.js"> </script>
<title>Zombie Dice</title>
</head>
<body onload="document.getElementById('start_game').disabled = false">
<h1>Play Zombie Dice!</h1>

<div id="dice_roll">
<font color="red"> 0 </font>
</div>

<div id="silly">
3
</div>

<div id="slot3">
5
</div>


<div id="preset">
<input type="button" id="start_game" onclick="startGame()" value="Start Game" />

<input type="button" id="take_turn" onclick="takeTurn()" value="Take Turn" />

<input type="button" id="stop_turn" onclick="stopTurn()" value="Stop Turn" />

<input type="button" id="ai_turn" onclick="aiTurn()" value="AI Turn" />
</div>

<script type="text/javascript">
function startGame() {
    $.post("http://localhost:8000/zombie_dice/start_game?num_players=2&player1=Andrew&player1_ai=false&player2=random&player2_ai=true", "", function(data, status) {
                window.game_state_id = data;
                document.getElementById("start_game").disabled = true;
            });
}

function takeTurn() {
     $.post("http://localhost:8000/zombie_dice/take_turn?uuid=" + window.game_state_id + "&player=Andrew&continue=true", "", function(data, status) {
                parseTurnData(data)
            });
}

function stopTurn() {
    $.post("http://localhost:8000/zombie_dice/take_turn?uuid=" + window.game_state_id + "&player=Andrew&continue=false", "", function(data, status) {
            });
}

function aiTurn() {
     $.post("http://localhost:8000/zombie_dice/take_turn?uuid=" + window.game_state_id + "&player=random&continue=true", "", function(data, status) {
                parseTurnData(data)
            });
}

function parseTurnData(data) {
    var silly = '{"silly" : "vat", "hat": "bat"}';

    player_turn_result = JSON.parse(data)

    //turn_result = player_turn_result["turn_result"]

    //var roll_1 = turn_result[0][1].fontcolor(turn_result[0][0]);
    //var roll_2 = turn_result[1][1].fontcolor(turn_result[1][0]);
    //var roll_3 = turn_result[2][1].fontcolor(turn_result[2][0]);

    //turn_result_string = [roll_1, roll_2, roll_2].join("\t");

   
    document.getElementById("dice_roll").innerHTML = player_turn_result;
    document.getElementById("silly").innerHTML = "temp1";
    document.getElementById("slot3").innerHTML = "temp2";

    //document.getElementById("dice_roll").innerHTML = JSON.stringify(JSON.parse(silly), null, 2);
    // document.getElementById("dice_roll").innerHTML = silly;
    
}
</script>

</body>
</html>
